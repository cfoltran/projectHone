var Twit = require('twit')
//var config = require('./config')

var T = new Twit({
	consumer_key:         'sIklgXwMbZZK5cL6hSRs6Vm4O',
	consumer_secret:      'xci297OYqxyjCR0hu2jiTJoel5AxUM2ktkYdO4e6sZHamr6JCM',
	access_token:         '959135997836644352-ZZNQJRW3HY6iWfJ7XWyYneOHS8cOuTg',
	access_token_secret:  'Bi7DBcOLWDYJS6E0OoVVygtDREcaRcj68i0bzvED1lMAT',
	//timeout_ms:          60*1000,  // optional HTTP request timeout to apply to all requests. 

})


/*
search/tweets : nom de la fonction de recherche de tweet par mots clé
params : objet tweet recherché
gotData: fonction appelée affichant les data recupéré
*/
/*
var params1 ={
 q:'diablox9', //tweet contenant ce mots
 count: 2  	   //nombre de tweet recherché correspondant à 'q'
}

T.get('search/tweets', params1, gotData); 


function gotData(err, data, response) {
	/*
	Cherchant exclusivement le texte des tweets recherchés
	nous n'affichons que le texte en créant une variable tweet cotenant
	le status du data, puis on affiche que la partie '.text'
	
  var tweets = data.statuses;
  for(var i=0; i<tweets.length; i++){ //on parcourt le texte
  console.log(tweets[i].text) //contenue du tweet
	}
}*/


///////////////////////////////////////////////

function tweetIT(tweet_contents){
	
	var params2 ={
		status: tweet_contents
	}

	T.post('statuses/update', params2, post);

	function post(err, data, response) {
 		
		if(err){
 		 console.log('We have a problem')
		}
		else{
			console.log('It\'s working boooooooooooooy')
		}
	}

}

tweetIT('bien ou quoi')   //utilsation de la fonction


//console.log("The bot is starting")